(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{43:function(e,t,a){e.exports=a(81)},48:function(e,t,a){},49:function(e,t,a){},75:function(e,t){},81:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(39),l=a.n(s),i=(a(48),a(6)),c=a(7),o=a(9),h=a(8),u=a(10),m=(a(49),a(84)),p=a(83),y=a(25),g=a(17),d=a(40),f=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).state={color:a.props.color,methods:{turn:null}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({methods:{turn:this.props.turn}})}},{key:"render",value:function(){var e=this.props.color,t="board__slot ".concat(e);return n.a.createElement("div",{row:this.props.row,className:t})}}]),t}(r.Component),v=a(4),b=a.n(v),w=(b()("http://localhost:3001"),function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).state={display:!0},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"submitHandler",value:function(e){e.preventDefault(),this.props.socket(),this.setState({display:!1})}},{key:"render",value:function(){return n.a.createElement("div",{className:"header"},n.a.createElement("h1",{className:"header__title"},"CONNECT 4"),n.a.createElement("div",{className:"display"},n.a.createElement("div",{className:"display__player-info"},n.a.createElement("div",{className:"display__player"},"Player 1",n.a.createElement("div",{className:"display__player-color Cream"})),n.a.createElement("h2",{className:"display__name"},this.props.players.Cream)),n.a.createElement("div",{className:"display__center"},n.a.createElement("h1",{className:"display__message"},this.messageHandler()),this.state.display?n.a.createElement("form",{onSubmit:this.submitHandler.bind(this)},n.a.createElement("input",{onChange:this.props.change,name:"name",placeholder:"enter name",value:this.props.player.name,className:"form__input"}),n.a.createElement("input",{onChange:this.props.change,name:"code",placeholder:"enter codename",value:this.props.player.code,className:"form__input"}),n.a.createElement("button",{type:"submit",className:"form__button"},"submit")):n.a.createElement("div",{className:"display__filler"})),n.a.createElement("div",{className:"display__player-info"},n.a.createElement("div",{className:"display__player"},"Player 2",n.a.createElement("div",{className:"display__player-color Black"})),n.a.createElement("h2",{className:"display__name"},this.props.players.Black))))}},{key:"messageHandler",value:function(){return this.props.players.Cream&&this.props.players.Black?this.props.players.Cream!==this.props.player.name||this.props.gameOn?this.props.players.Cream===this.props.player.name||this.props.gameOn?this.props.player.name===this.props.players[this.props.current]?"It's Your Turn":this.props.player.name!==this.props.players[this.props.current]?"Waiting for ".concat(this.props.players[this.props.current]):void 0:"Waiting for ".concat(this.props.players.Cream):n.a.createElement("button",{className:"form__button",onClick:this.props.newGame},"New Game"):"Waiting for players..."}}]),t}(r.Component)),k=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).state={grid:Array(7).fill("white").map(function(e){return Array(6).fill("white")}),players:{Cream:"",Black:""},player:{name:"",code:""},currentPlayer:"Cream",message:"",gameOn:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=b()(this.getEnvironmentUrl());e.on("new",function(e){console.log(e)}),e.on("board",function(e){console.log(e),this.setState({grid:e.grid,currentPlayer:e.currentPlayer,gameOn:e.gameOn,message:e.message})}.bind(this)),e.on("users",function(e){console.log(e),e&&this.setState({players:{Cream:e.player1,Black:e.player2?e.player2:""}})}.bind(this)),e.on("info",function(e){e&&(console.log(e),this.setState({currentPlayer:e.currentPlayer}))}.bind(this)),e.on("winning player",function(e){console.log(e),this.setState({message:e})}.bind(this))}},{key:"socketHandler",value:function(){b()(this.getEnvironmentUrl()).emit("user-info",this.state.player)}},{key:"changeHandler",value:function(e){this.setState({player:Object(d.a)({},this.state.player,Object(g.a)({},e.target.name,e.target.value))})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"game"},n.a.createElement(w,{players:this.state.players,newGame:this.newGame.bind(this),current:this.state.currentPlayer,socket:this.socketHandler.bind(this),gameOn:this.state.gameOn,change:this.changeHandler.bind(this),player:this.state.player}),n.a.createElement("div",{className:"board"},this.state.grid.map(function(t,a){return n.a.createElement("div",{column:a,onMouseDown:e.checkBelow.bind(e),className:"board__column"},t.map(function(t,r){return n.a.createElement(f,{color:t,column:a,row:r,current:e.state.currentPlayer})}))})),n.a.createElement("h1",{className:"game__message"},this.state.message))}},{key:"turnHandler",value:function(){this.state.gameOn&&(this.state.currentPlayer===this.state.players[0].player?this.setState({currentPlayer:this.state.players[1].player}):this.state.currentPlayer===this.state.players[1].player&&this.setState({currentPlayer:this.state.players[0].player}))}},{key:"newGame",value:function(){var e=this;this.setState({currentPlayer:"Cream",grid:Array(7).fill("white").map(function(e){return Array(6).fill("white")}),message:"",gameOn:!0},function(){b()(e.getEnvironmentUrl()).emit("state",e.state)})}},{key:"checkVertically",value:function(e){for(var t=this,a=e.currentTarget.attributes.column.value,r=e.currentTarget.children,n=a,s=Object(y.a)(this.state.grid),l=r.length-1;l>=3;l--)s[n][l]===this.state.currentPlayer&&s[n][l-1]===this.state.currentPlayer&&s[n][l-2]===this.state.currentPlayer&&s[n][l-3]===this.state.currentPlayer&&this.setState({message:"".concat(this.state.players[this.state.currentPlayer]," wins!"),currentPlayer:null,gameOn:!1},function(){b()(t.getEnvironmentUrl()).emit("winner",t.state.message)})}},{key:"checkHorizontally",value:function(e,t){for(var a=this,r=e,n=0;n<4;n++)if(r[n][t]===this.state.currentPlayer&&r[n+1][t]===this.state.currentPlayer&&r[n+2][t]===this.state.currentPlayer&&r[n+3][t]===this.state.currentPlayer)return this.setState({message:"".concat(this.state.players[this.state.currentPlayer]," wins!"),currentPlayer:null,gameOn:!1},function(){b()(a.getEnvironmentUrl()).emit("winner",a.state.message)})}},{key:"checkRightUp",value:function(e,t,a){for(var r=this,n=this.state.currentPlayer,s=[],l=[],i=!0,c=0,o=!0;i;)t<=-1||a>=6?(i=!1,console.log("first")):t>6||e[t][a]!==n&&o?(o=!1,t=s[0],a=l[0],t-=1,a+=1,console.log("second")):e[t][a]===n&&o?(c++,l.push(a),s.push(t),t++,a--,console.log("third")):e[t][a]!==n||o?(i=!1,console.log("last")):(c++,t--,a++,console.log("fourth"));if(console.log(c),c>=4)return this.setState({message:"".concat(this.state.players[this.state.currentPlayer]," wins!"),currentPlayer:null,gameOn:!1},function(){b()(r.getEnvironmentUrl()).emit("winner",r.state.message)})}},{key:"checkRightDown",value:function(e,t,a){for(var r=this,n=this.state.currentPlayer,s=[],l=[],i=!0,c=0,o=!0;i;)t<=-1||a<=-1?(i=!1,console.log("first")):t>6||e[t][a]!==n&&o?(o=!1,t=s[0],a=l[0],t-=1,a-=1,console.log("second")):e[t][a]===n&&o?(c++,l.push(a),s.push(t),t++,a++,console.log("third")):e[t][a]!==n||o?(i=!1,console.log("last")):(c++,t--,a--,console.log("fourth"));if(console.log(c),c>=4)return this.setState({message:"".concat(this.state.players[this.state.currentPlayer]," wins!"),currentPlayer:null,gameOn:!1},function(){b()(r.getEnvironmentUrl()).emit("winner",r.state.message)})}},{key:"checkBelow",value:function(e){var t=this,a=e.currentTarget.attributes.column.value,r=e.currentTarget.children,n=parseInt(a),s=Object(y.a)(this.state.grid);if(this.state.gameOn&&this.state.player.name===this.state.players[this.state.currentPlayer])for(var l=r.length-1;l>=0;l--){if("white"===r[l].className.split(" ")[1])return s[n][l]=this.state.currentPlayer,this.checkVertically(e),this.checkHorizontally(s,l),this.checkRightUp(s,n,l),this.checkRightDown(s,n,l),this.setState({grid:s,currentPlayer:"Cream"===this.state.currentPlayer?"Black":"Cream"},function(){b()(t.getEnvironmentUrl()).emit("state",t.state)})}}}]),t}(r.Component),E=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(m.a,null,n.a.createElement(p.a,{path:"/",render:function(e){return n.a.createElement(k,{prop:e})}})))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var O=a(82);l.a.render(n.a.createElement(O.a,null,n.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[43,1,2]]]);
//# sourceMappingURL=main.c3de6525.chunk.js.map