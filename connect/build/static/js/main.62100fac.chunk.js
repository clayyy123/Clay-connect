(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{43:function(e,t,a){e.exports=a(81)},48:function(e,t,a){},49:function(e,t,a){},75:function(e,t){},81:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(38),i=a.n(s),l=(a(48),a(5)),c=a(6),o=a(8),u=a(7),h=a(9),p=(a(49),a(84)),m=a(83),y=a(24),d=a(16),f=a(39),g=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={color:a.props.color,methods:{turn:a.props.turn}},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.color,t="board__slot ".concat(e);return n.a.createElement("div",{row:this.props.row,className:t})}}]),t}(r.Component),v=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={display:!0},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"submitHandler",value:function(e){e.preventDefault(),this.props.socket(),this.setState({display:!1})}},{key:"render",value:function(){return n.a.createElement("div",{className:"header"},n.a.createElement("h1",{className:"header__title"},"CONNECT 4"),n.a.createElement("div",{className:"display"},n.a.createElement("div",{className:"display__player-info"},n.a.createElement("div",{className:"display__player"},"Player 1",n.a.createElement("div",{className:"display__player-color Red"})),n.a.createElement("h2",{className:"display__name"},this.props.players.Red)),n.a.createElement("div",{className:"display__center"},n.a.createElement("h1",{className:"display__message"},this.messageHandler()),this.state.display?n.a.createElement("form",{onSubmit:this.submitHandler.bind(this)},n.a.createElement("input",{onChange:this.props.change,name:"name",placeholder:"enter name",value:this.props.player.name,className:"form__input"}),n.a.createElement("input",{onChange:this.props.change,name:"code",placeholder:"enter codename",value:this.props.player.code,className:"form__input"}),n.a.createElement("button",{type:"submit",className:"form__button"},"submit")):n.a.createElement("div",{className:"display__filler"})),n.a.createElement("div",{className:"display__player-info"},n.a.createElement("div",{className:"display__player"},"Player 2",n.a.createElement("div",{className:"display__player-color Yellow"})),n.a.createElement("h2",{className:"display__name"},this.props.players.Yellow))))}},{key:"messageHandler",value:function(){return this.props.players.Red&&this.props.players.Yellow?this.props.players.Red!==this.props.player.name||this.props.gameOn?this.props.players.Red===this.props.player.name||this.props.gameOn?this.props.player.name===this.props.players[this.props.current]?"It's Your Turn":this.props.player.name!==this.props.players[this.props.current]?"Waiting for ".concat(this.props.players[this.props.current]):void 0:"Waiting for ".concat(this.props.players.Red):n.a.createElement("button",{className:"form__button",onClick:this.props.newGame},"New Game"):"Waiting for players..."}}]),t}(r.Component),b=a(40),w=a.n(b)()("https://clay-connect.herokuapp.com/"),O=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={grid:Array(7).fill("white").map(function(e){return Array(6).fill("white")}),players:{Red:"",Yellow:""},player:{name:"",code:""},currentPlayer:"Red",message:"",gameOn:!1},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){w.on("new",function(e){}),w.on("board",function(e){this.setState({grid:e.grid,currentPlayer:e.currentPlayer,gameOn:e.gameOn,message:e.message})}.bind(this)),w.on("users",function(e){e&&this.setState({players:{Red:e.player1,Yellow:e.player2?e.player2:""}})}.bind(this)),w.on("info",function(e){e&&this.setState({currentPlayer:e.currentPlayer})}.bind(this)),w.on("winning player",function(e){this.setState({message:e.message})}.bind(this))}},{key:"socketHandler",value:function(){w.emit("user-info",this.state.player)}},{key:"changeHandler",value:function(e){this.setState({player:Object(f.a)({},this.state.player,Object(d.a)({},e.target.name,e.target.value))})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"game"},n.a.createElement(v,{players:this.state.players,newGame:this.newGame.bind(this),current:this.state.currentPlayer,socket:this.socketHandler.bind(this),gameOn:this.state.gameOn,change:this.changeHandler.bind(this),player:this.state.player}),n.a.createElement("div",{className:"board"},this.state.grid.map(function(t,a){return n.a.createElement("div",{column:a,onMouseDown:e.checkBelow.bind(e),className:"board__column"},t.map(function(t,r){return n.a.createElement(g,{color:t,column:a,row:r,current:e.state.currentPlayer})}))})),n.a.createElement("h1",{className:"game__message"},this.state.message))}},{key:"turnHandler",value:function(){this.state.gameOn&&(this.state.currentPlayer===this.state.players[0].player?this.setState({currentPlayer:this.state.players[1].player}):this.state.currentPlayer===this.state.players[1].player&&this.setState({currentPlayer:this.state.players[0].player}))}},{key:"newGame",value:function(){var e=this;this.setState({currentPlayer:"Red",grid:Array(7).fill("white").map(function(e){return Array(6).fill("white")}),message:"",gameOn:!0},function(){w.emit("state",e.state)})}},{key:"checkVertically",value:function(e){for(var t=this,a=e.currentTarget.attributes.column.value,r=e.currentTarget.children,n=a,s=Object(y.a)(this.state.grid),i=r.length-1;i>=3;i--)s[n][i]===this.state.currentPlayer&&s[n][i-1]===this.state.currentPlayer&&s[n][i-2]===this.state.currentPlayer&&s[n][i-3]===this.state.currentPlayer&&this.setState({message:"".concat(this.state.players[this.state.currentPlayer]," wins!"),currentPlayer:null,gameOn:!1},function(){w.emit("winner",t.state)})}},{key:"checkHorizontally",value:function(e,t){for(var a=this,r=e,n=0;n<4;n++)if(r[n][t]===this.state.currentPlayer&&r[n+1][t]===this.state.currentPlayer&&r[n+2][t]===this.state.currentPlayer&&r[n+3][t]===this.state.currentPlayer)return this.setState({message:"".concat(this.state.players[this.state.currentPlayer]," wins!"),currentPlayer:null,gameOn:!1},function(){w.emit("winner",a.state)})}},{key:"checkRightUp",value:function(e,t,a){for(var r=this,n=this.state.currentPlayer,s=[],i=[],l=!0,c=0,o=!0;l;)t<=-1||a>=6?l=!1:t>6||e[t][a]!==n&&o?(o=!1,t=s[0],a=i[0],t-=1,a+=1):e[t][a]===n&&o?(c++,i.push(a),s.push(t),t++,a--):e[t][a]!==n||o?l=!1:(c++,t--,a++);if(c>=4)return this.setState({message:"".concat(this.state.players[this.state.currentPlayer]," wins!"),currentPlayer:null,gameOn:!1},function(){w.emit("winner",r.state)})}},{key:"checkRightDown",value:function(e,t,a){for(var r=this,n=this.state.currentPlayer,s=[],i=[],l=!0,c=0,o=!0;l;)t<=-1||a<=-1?l=!1:t>6||e[t][a]!==n&&o?(o=!1,t=s[0],a=i[0],t-=1,a-=1):e[t][a]===n&&o?(c++,i.push(a),s.push(t),t++,a++):e[t][a]!==n||o?l=!1:(c++,t--,a--);if(c>=4)return this.setState({message:"".concat(this.state.players[this.state.currentPlayer]," wins!"),currentPlayer:null,gameOn:!1},function(){w.emit("winner",r.state)})}},{key:"checkBelow",value:function(e){var t=this,a=e.currentTarget.attributes.column.value,r=e.currentTarget.children,n=parseInt(a),s=Object(y.a)(this.state.grid);if(this.state.gameOn&&this.state.player.name===this.state.players[this.state.currentPlayer])for(var i=r.length-1;i>=0;i--){if("white"===r[i].className.split(" ")[1])return s[n][i]=this.state.currentPlayer,this.checkVertically(e),this.checkHorizontally(s,i),this.checkRightUp(s,n,i),this.checkRightDown(s,n,i),this.setState({grid:s,currentPlayer:"Red"===this.state.currentPlayer?"Yellow":"Red"},function(){w.emit("state",t.state)})}}}]),t}(r.Component),_=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(p.a,null,n.a.createElement(m.a,{path:"/",render:function(e){return n.a.createElement(O,{prop:e})}})))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k=a(82);i.a.render(n.a.createElement(k.a,null,n.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[43,1,2]]]);
//# sourceMappingURL=main.62100fac.chunk.js.map